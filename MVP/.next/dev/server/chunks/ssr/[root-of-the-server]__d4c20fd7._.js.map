{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tranka/Proyectos/LoteriaInversora/RepositorioCompartido/Chainlink-Hackathon-No-loss-lottery-/MVP/stores/userStore.ts"],"sourcesContent":["\"use client\";\n\n/**\n * Zustand v5 notes:\n * - `create` is now always curried: create<State>()((set, get) => ...)\n * - `persist` middleware API is unchanged but race condition in concurrent\n *   rehydrate was fixed in 5.0.11.\n * - No more deprecated `setState` on the store object directly — use\n *   `useUserStore.setState(...)` only from outside React.\n */\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport type EntryStatus = \"active\" | \"finalized\";\nexport type EntryOutcome = \"won\" | \"lost\" | \"pending\";\n\nexport interface UserEntry {\n  raffleId: string;\n  ticketsBought: number;\n  status: EntryStatus;\n  outcome: EntryOutcome;\n  purchasedAt: string; // ISO date\n}\n\ninterface UserState {\n  email: string | null;\n  balance: number;\n  entries: UserEntry[];\n\n  // Actions\n  login: (email: string) => void;\n  logout: () => void;\n  deductBalance: (amount: number) => void;\n  addEntry: (entry: Omit<UserEntry, \"purchasedAt\">) => void;\n  finalizeEntry: (raffleId: string, outcome: \"won\" | \"lost\") => void;\n}\n\nexport const useUserStore = create<UserState>()(\n  persist(\n    (set) => ({\n      email: null,\n      balance: 100, // 100 USDC demo on first login\n      entries: [],\n\n      login: (email) => set({ email }),\n\n      logout: () => set({ email: null }),\n\n      deductBalance: (amount) =>\n        set((state) => ({ balance: Math.max(0, state.balance - amount) })),\n\n      addEntry: (entry) =>\n        set((state) => {\n          // If already bought into this raffle, increment tickets\n          const existing = state.entries.find((e) => e.raffleId === entry.raffleId);\n          if (existing) {\n            return {\n              entries: state.entries.map((e) =>\n                e.raffleId === entry.raffleId\n                  ? { ...e, ticketsBought: e.ticketsBought + entry.ticketsBought }\n                  : e\n              ),\n            };\n          }\n          return {\n            entries: [\n              ...state.entries,\n              { ...entry, purchasedAt: new Date().toISOString() },\n            ],\n          };\n        }),\n\n      finalizeEntry: (raffleId, outcome) =>\n        set((state) => ({\n          entries: state.entries.map((e) =>\n            e.raffleId === raffleId\n              ? { ...e, status: \"finalized\", outcome }\n              : e\n          ),\n        })),\n    }),\n    {\n      name: \"luckyyield-user\", // localStorage key\n    }\n  )\n);\n"],"names":[],"mappings":";;;;AAEA;;;;;;;CAOC,GACD;AACA;AAXA;;;AAqCO,MAAM,eAAe,IAAA,kJAAM,IAChC,IAAA,wJAAO,EACL,CAAC,MAAQ,CAAC;QACR,OAAO;QACP,SAAS;QACT,SAAS,EAAE;QAEX,OAAO,CAAC,QAAU,IAAI;gBAAE;YAAM;QAE9B,QAAQ,IAAM,IAAI;gBAAE,OAAO;YAAK;QAEhC,eAAe,CAAC,SACd,IAAI,CAAC,QAAU,CAAC;oBAAE,SAAS,KAAK,GAAG,CAAC,GAAG,MAAM,OAAO,GAAG;gBAAQ,CAAC;QAElE,UAAU,CAAC,QACT,IAAI,CAAC;gBACH,wDAAwD;gBACxD,MAAM,WAAW,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK,MAAM,QAAQ;gBACxE,IAAI,UAAU;oBACZ,OAAO;wBACL,SAAS,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,IAC1B,EAAE,QAAQ,KAAK,MAAM,QAAQ,GACzB;gCAAE,GAAG,CAAC;gCAAE,eAAe,EAAE,aAAa,GAAG,MAAM,aAAa;4BAAC,IAC7D;oBAER;gBACF;gBACA,OAAO;oBACL,SAAS;2BACJ,MAAM,OAAO;wBAChB;4BAAE,GAAG,KAAK;4BAAE,aAAa,IAAI,OAAO,WAAW;wBAAG;qBACnD;gBACH;YACF;QAEF,eAAe,CAAC,UAAU,UACxB,IAAI,CAAC,QAAU,CAAC;oBACd,SAAS,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,IAC1B,EAAE,QAAQ,KAAK,WACX;4BAAE,GAAG,CAAC;4BAAE,QAAQ;4BAAa;wBAAQ,IACrC;gBAER,CAAC;IACL,CAAC,GACD;IACE,MAAM;AACR"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tranka/Proyectos/LoteriaInversora/RepositorioCompartido/Chainlink-Hackathon-No-loss-lottery-/MVP/app/page.tsx"],"sourcesContent":["\"use client\";\n\n// React 19: no explicit import needed\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { ArrowRight, Zap, Shield, TrendingUp } from \"lucide-react\";\nimport { useUserStore } from \"@/stores/userStore\";\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const { login, email: storedEmail } = useUserStore();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (storedEmail) router.replace(\"/dashboard\");\n  }, [storedEmail, router]);\n\n  const handleEnter = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const trimmed = email.trim();\n    if (!trimmed || !trimmed.includes(\"@\")) {\n      setError(\"Please enter a valid email address.\");\n      return;\n    }\n    setError(\"\");\n    setLoading(true);\n    await new Promise((r) => setTimeout(r, 600));\n    login(trimmed);\n    router.push(\"/dashboard\");\n  };\n\n  return (\n    <main className=\"min-h-screen flex flex-col items-center justify-center px-4 py-12\">\n      {/* Background orbs */}\n      <div\n        className=\"fixed top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] rounded-full pointer-events-none\"\n        style={{ background: \"rgba(0,229,255,.05)\", filter: \"blur(80px)\" }}\n      />\n      <div\n        className=\"fixed bottom-0 right-0 w-[400px] h-[400px] rounded-full pointer-events-none\"\n        style={{ background: \"rgba(245,197,66,.03)\", filter: \"blur(100px)\" }}\n      />\n\n      <div className=\"relative w-full max-w-sm mx-auto space-y-8\" style={{ animation: \"var(--animate-slide-up)\" }}>\n        {/* Logo */}\n        <div className=\"text-center space-y-3\">\n          <div\n            className=\"mx-auto w-16 h-16 rounded-2xl flex items-center justify-center border accent-glow\"\n            style={{\n              background: \"linear-gradient(135deg, rgba(0,229,255,.20), rgba(0,229,255,.05))\",\n              borderColor: \"rgba(0,229,255,.20)\",\n            }}\n          >\n            <Zap size={28} style={{ color: \"var(--color-accent)\" }} />\n          </div>\n          <div>\n            <h1\n              className=\"text-3xl font-extrabold tracking-tight\"\n              style={{ color: \"var(--color-text-bright)\", fontFamily: \"var(--font-display)\" }}\n            >\n              LuckYield\n            </h1>\n            <p className=\"text-sm mt-1\" style={{ color: \"var(--color-muted)\" }}>\n              No-loss yield raffles on-chain\n            </p>\n          </div>\n        </div>\n\n        {/* Feature pills */}\n        <div className=\"flex justify-center gap-2 flex-wrap\">\n          {[\n            { icon: Shield, label: \"No-loss\" },\n            { icon: TrendingUp, label: \"Yield-powered\" },\n            { icon: Zap, label: \"Chainlink VRF\" },\n          ].map(({ icon: Icon, label }) => (\n            <div\n              key={label}\n              className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full border text-xs\"\n              style={{\n                backgroundColor: \"var(--color-surface)\",\n                borderColor: \"var(--color-border)\",\n                color: \"var(--color-muted)\",\n                fontFamily: \"var(--font-mono)\",\n              }}\n            >\n              <Icon size={11} style={{ color: \"var(--color-accent)\" }} />\n              {label}\n            </div>\n          ))}\n        </div>\n\n        {/* Login card */}\n        <div\n          className=\"rounded-2xl border p-6 space-y-4\"\n          style={{ backgroundColor: \"var(--color-card)\", borderColor: \"var(--color-border)\" }}\n        >\n          <div>\n            <h2\n              className=\"text-base font-bold\"\n              style={{ color: \"var(--color-text-bright)\", fontFamily: \"var(--font-display)\" }}\n            >\n              Get started\n            </h2>\n            <p className=\"text-xs mt-0.5\" style={{ color: \"var(--color-muted)\" }}>\n              Demo mode — no password required\n            </p>\n          </div>\n\n          <form onSubmit={handleEnter} className=\"space-y-3\">\n            <div>\n              <label\n                htmlFor=\"email\"\n                className=\"block text-xs uppercase tracking-wider mb-1.5\"\n                style={{ color: \"var(--color-muted)\", fontFamily: \"var(--font-mono)\" }}\n              >\n                Email address\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                autoFocus\n                value={email}\n                onChange={(e) => { setEmail(e.target.value); setError(\"\"); }}\n                placeholder=\"you@example.com\"\n                className=\"input-field\"\n              />\n              {error && <p className=\"text-xs text-red-400 mt-1.5\">{error}</p>}\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"btn-primary w-full h-11 gap-2\"\n            >\n              {loading ? (\n                <>\n                  <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                  </svg>\n                  Entering...\n                </>\n              ) : (\n                <>\n                  Enter App\n                  <ArrowRight size={16} />\n                </>\n              )}\n            </button>\n          </form>\n\n          <div className=\"text-center\">\n            <p\n              className=\"text-[10px] leading-relaxed\"\n              style={{ color: \"var(--color-muted)\" }}\n            >\n              You&apos;ll receive{\" \"}\n              <span style={{ color: \"var(--color-accent)\", fontFamily: \"var(--font-mono)\" }}>\n                100 USDC\n              </span>{\" \"}\n              demo balance.\n              <br />No real funds involved.\n            </p>\n          </div>\n        </div>\n\n        <p\n          className=\"text-center text-[10px]\"\n          style={{ color: \"rgba(74,96,128,.5)\", fontFamily: \"var(--font-mono)\" }}\n        >\n          LUCKYYIELD MVP · CHAINLINK HACKATHON 2025\n        </p>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}